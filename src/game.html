
<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=640, user-scalable=no" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title></title>
		<link rel="stylesheet" href="css/style.css?rev=@@hash" />
		<link rel="stylesheet" href="css/animation.css" />
		<script type="text/javascript" src="js/zepto.min.js" ></script>
	</head>
	<body>
		<div class="game">
			<div class="circle"></div>
			<div class="game-bg"></div>
			<canvas id="game"></canvas>
			<div class="typebar">
				<div class="score">
					X100
				</div>
				<div class="time">
					X100
				</div>
			</div>
		</div>
		<div class="music musicplay">
			<audio src="resource/bgmusic.mp3" preload="auto" loop></audio>
		</div>
	</body>
	<script type="text/javascript" src="js/jCanvaScript.1.5.18.min.js" ></script>
	<script>
		//音乐播放
		$(".music").css("display","block");
		$(".music").tap(function(){
			if($("audio")[0].paused){
				console.log(1)
				$("audio")[0].play()
				$(this).addClass("musicplay")
			}else{
				console.log(2)
				$("audio")[0].pause()
				$(this).removeClass("musicplay")
			}
			
		})
		
		function gameInit(){
			var canvas = document.getElementById("game");
			canvas.width=document.body.clientWidth;
			canvas.height=document.body.clientHeight;
			function onload_1(option){   
		        var img=new Image();
		        img.src="images/miner"+ option.miner + ".png";
		        img.onload=function(){
		        jc.start(option.canvasid,true);
		        jc.image(img,100,100,option.width,option.height).id('minoner1');
		        jc.start(option.canvasid);}
		    }
			//随机调取怪兽
			var numRadom=parseInt(Math.random()*3+1);
			//怪兽大小
			var sizeArr=[
				{w:109,h:113},
				{w:127,h:110},
				{w:107,h:129},
				{w:109,h:112}
			]
			onload_1({canvasid:"game",objId:"minoner1",miner:numRadom,width:sizeArr[numRadom-1].w,height:sizeArr[numRadom-1].h});
			setTimeout(function(){
				monMove("game");
			},200)
			
		}
		gameInit();
		function monMove(idCanvas){
			jc('#minoner1').animate({x:500,y:500},2000);
		}
	</script>
</html>
